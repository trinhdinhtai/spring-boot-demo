---
alwaysApply: false
description: Review cáº¥u trÃºc vÃ  architecture tá»•ng thá»ƒ cá»§a project
---

ÄÃ³ng vai trÃ² lÃ  Senior Software Engineer kiÃªm Software Architect vá»›i hÆ¡n 15 nÄƒm kinh nghiá»‡m thiáº¿t káº¿ há»‡ thá»‘ng lá»›n.

**Chá»‰ Ã¡p dá»¥ng rule nÃ y khi tÃ´i yÃªu cáº§u rÃµ rÃ ng báº±ng cÃ¡c tá»« khÃ³a nhÆ°**: "review project", "review tá»•ng quan", "review cáº¥u trÃºc", "review architecture", "nhÃ¬n tá»•ng thá»ƒ project", "Ä‘Ã¡nh giÃ¡ project", "project cÃ³ á»•n khÃ´ng", v.v.

**Náº¿u tÃ´i chá»‰ paste má»™t Ä‘oáº¡n code hoáº·c má»™t file riÃªng láº» â†’ KHÃ”NG Ã¡p dá»¥ng rule nÃ y**.

Dá»±a vÃ o cÃ¡c file hiá»‡n cÃ³ (package.json, tsconfig.json, Dockerfile, README.md, v.v.), nháº­n diá»‡n tech stack vÃ  architecture má»™t cÃ¡ch chÃ­nh xÃ¡c nháº¥t cÃ³ thá»ƒ.

PhÃ¢n tÃ­ch theo Ä‘Ãºng thá»© tá»± sau, trÃ¬nh bÃ y báº±ng tiáº¿ng Viá»‡t, sá»­ dá»¥ng markdown rÃµ rÃ ng:

Tá»± Ä‘á»™ng nháº­n diá»‡n:
- **NgÃ´n ngá»¯**: NgÃ´n ngá»¯ chÃ­nh vÃ  cÃ¡c ngÃ´n ngá»¯ phá»¥
- **Runtime/Platform**: Node.js, Deno, Bun, Browser, Python, JVM, .NET, Go...
- **Framework chÃ­nh**: Express, NestJS, Next.js, React, Vue, Angular, Django, Laravel, Spring Boot, FastAPI...
- **Loáº¡i project**: Monolith, Modular Monolith, Microservices, Monorepo, SPA, SSR, Mobile Backend, CLI Tool, Library...
- **Package manager**: npm, yarn, pnpm, bun, pip, composer, maven, gradle...
- **Key tooling**: ESLint, Prettier, TypeScript, Docker, Testing frameworks, CI/CD platform

## Cáº¥u trÃºc phÃ¢n tÃ­ch (theo thá»© tá»±)
PhÃ¢n tÃ­ch theo Ä‘Ãºng thá»© tá»± sau, trÃ¬nh bÃ y rÃµ rÃ ng báº±ng tiáº¿ng Viá»‡t, sá»­ dá»¥ng Ä‘Ã¡nh sá»‘ vÃ  gáº¡ch Ä‘áº§u dÃ²ng:

### 1. **Tá»•ng quan Project**
- **Má»¥c Ä‘Ã­ch**: Project nÃ y lÃ m gÃ¬? Má»¥c tiÃªu chÃ­nh?
- **Tech stack**: Tech stack chÃ­nh? CÃ³ phÃ¹ há»£p vá»›i má»¥c tiÃªu khÃ´ng?
- **Architecture pattern hiá»‡n táº¡i**: 
  - Monolith (layered, modular)
  - Clean Architecture / Hexagonal
  - Microservices
  - Event-driven
  - CQRS / Domain-Driven Design
  - Hoáº·c chÆ°a cÃ³ pattern rÃµ rÃ ng

### 2. **Cáº¥u trÃºc ThÆ° má»¥c (Directory Structure)**
**ÄÃ¡nh giÃ¡ tá»•ng thá»ƒ**:
- CÃ³ tuÃ¢n theo convention cá»§a framework/language khÃ´ng?
- CÃ³ principle rÃµ rÃ ng khÃ´ng? (feature-based vs layer-based vs domain-driven)
- Äá»™ phá»©c táº¡p cÃ³ phÃ¹ há»£p vá»›i scale project khÃ´ng?
- Nesting depth cÃ³ há»£p lÃ½ khÃ´ng? (trÃ¡nh quÃ¡ 4-5 levels)

**So sÃ¡nh vá»›i best practices**:
- List ra convention phá»• biáº¿n cá»§a framework Ä‘ang dÃ¹ng
- Chá»‰ ra Ä‘iá»ƒm khÃ¡c biá»‡t (tá»‘t hay xáº¥u)

**Äá» xuáº¥t cáº£i thiá»‡n** (náº¿u cáº§n):
```
Cáº¥u trÃºc Ä‘á» xuáº¥t:
src/
â”œâ”€â”€ domain/          # Business logic, entities
â”œâ”€â”€ application/     # Use cases, services
â”œâ”€â”€ infrastructure/  # External concerns (DB, APIs)
â”œâ”€â”€ presentation/    # Controllers, routes
â””â”€â”€ shared/          # Common utilities

Hoáº·c dÃ¹ng ASCII tree cho structure cá»¥ thá»ƒ
```

### 3. **ğŸ”´ Váº¥n Ä‘á» NghiÃªm trá»ng (Critical Issues)**
CÃ¡c váº¥n Ä‘á» nguy hiá»ƒm cáº§n fix ngay:

**Architecture level**:
- [ ] Circular dependencies giá»¯a modules/layers
- [ ] God objects / classes lÃ m quÃ¡ nhiá»u viá»‡c
- [ ] Tight coupling nghiÃªm trá»ng, khÃ´ng thá»ƒ test
- [ ] Business logic láº«n vá»›i infrastructure logic
- [ ] KhÃ´ng cÃ³ error boundary / error handling strategy

**Security**:
- [ ] Hardcoded secrets, API keys trong code
- [ ] .env khÃ´ng cÃ³ .env.example hoáº·c khÃ´ng Ä‘Æ°á»£c gitignore
- [ ] Sensitive data trong logs
- [ ] Thiáº¿u input validation layer
- [ ] Thiáº¿u authentication/authorization checks

**Stability**:
- [ ] Thiáº¿u logging / monitoring / tracing strategy
- [ ] KhÃ´ng cÃ³ health check endpoints
- [ ] KhÃ´ng handle graceful shutdown
- [ ] Memory leaks potential (event listeners khÃ´ng cleanup)

Vá»›i má»—i issue: Link Ä‘áº¿n file cá»¥ thá»ƒ náº¿u cÃ³, vÃ­ dá»¥ minh há»a ngáº¯n gá»n.

### 4. **âš ï¸ Váº¥n Ä‘á» Quan trá»ng (Major Issues)**

**Code organization**:
- [ ] Naming convention khÃ´ng Ä‘á»“ng nháº¥t (camelCase vs snake_case, file naming)
- [ ] Import order khÃ´ng consistent
- [ ] Mixed patterns (vÃ­ dá»¥: vá»«a async/await vá»«a callbacks)
- [ ] Thiáº¿u index files / barrel exports á»Ÿ nÆ¡i nÃªn cÃ³

**Configuration & Tooling**:
- [ ] ESLint/Prettier: KhÃ´ng cÃ³ hoáº·c config lá»ng láº»o
- [ ] TypeScript: tsconfig quÃ¡ lá»ng (any everywhere) hoáº·c quÃ¡ strict khÃ´ng cáº§n thiáº¿t
- [ ] Testing: Coverage tháº¥p, thiáº¿u integration tests, hoáº·c khÃ´ng cÃ³ tests
- [ ] Git hooks: Thiáº¿u pre-commit/pre-push checks
- [ ] Build process: Cháº­m, khÃ´ng tá»‘i Æ°u, thiáº¿u caching

**Dependencies**:
- [ ] Outdated packages (major versions behind)
- [ ] Security vulnerabilities (check vá»›i npm audit)
- [ ] Unused dependencies trong package.json
- [ ] Dependency version khÃ´ng pin (^, ~ quÃ¡ loose)
- [ ] Peer dependency warnings

**Documentation**:
- [ ] README thiáº¿u setup instructions, prerequisites
- [ ] Thiáº¿u API documentation (Swagger/OpenAPI)
- [ ] KhÃ´ng cÃ³ architecture decision records (ADRs)
- [ ] Inline comments sai hoáº·c outdated
- [ ] Thiáº¿u CONTRIBUTING.md cho open source projects

### 5. **ğŸ’¡ Cáº£i thiá»‡n Vá»«a pháº£i (Minor Issues & Suggestions)**

**Developer Experience**:
- ThÃªm scripts há»¯u Ã­ch vÃ o package.json (dev, test:watch, lint:fix, type-check)
- Setup Husky + lint-staged cho pre-commit hooks
- Commitlint cho conventional commits
- Changelog generation (standard-version, semantic-release)

**Tooling cÃ³ thá»ƒ thÃªm**:
- Renovate/Dependabot cho dependency updates
- EditorConfig cho consistent formatting
- VS Code workspace settings
- Debug configurations

**Code quality**:
- Type coverage cÃ³ thá»ƒ tÄƒng (náº¿u dÃ¹ng TypeScript)
- Magic numbers nÃªn extract thÃ nh constants
- Duplicate code cÃ³ thá»ƒ extract thÃ nh utilities
- Console.logs nÃªn thay báº±ng proper logger

**Performance hints** (khÃ´ng pháº£i bottleneck nhÆ°ng cÃ³ thá»ƒ tá»‘t hÆ¡n):
- Bundle size optimization
- Code splitting strategy
- Lazy loading opportunities
- Caching opportunities (HTTP, in-memory, Redis)

### 6. **ğŸ”’ Security & Performance (Architecture Level)**

**Security posture**:
- Authentication strategy: JWT, Session, OAuth? Implemented Ä‘Ãºng cÃ¡ch khÃ´ng?
- Authorization: RBAC, ABAC? á» layer nÃ o?
- Data validation: á» Ä‘Ã¢u? DÃ¹ng tool gÃ¬? (Zod, Joi, class-validator...)
- Rate limiting: CÃ³ khÃ´ng? Global hay per-endpoint?
- CORS configuration: CÃ³ quÃ¡ permissive khÃ´ng?
- SQL Injection / XSS / CSRF protections

**Performance architecture**:
- Database query optimization (N+1 problems, missing indexes)
- API response time cÃ³ baseline khÃ´ng?
- Caching strategy: Layer nÃ o? TTL policy?
- Scalability: CÃ³ single point of failure khÃ´ng?
- Background job processing: CÃ³ queue system khÃ´ng? (Bull, BullMQ, Celery...)
- Static asset handling: CDN? Compression?

### 7. **ğŸ¯ Gá»£i Ã½ Cáº£i tiáº¿n Architecture / Structure**

**Náº¿u cáº§n refactor lá»›n**:

Váº½ sÆ¡ Ä‘á»“ so sÃ¡nh (dÃ¹ng Mermaid náº¿u phÃ¹ há»£p):
```mermaid
graph TD
    A[Current: Tangled Dependencies] --> B[Proposed: Clean Layers]
    
    subgraph Current
    C1[Controller] -.-> D1[Database]
    C1 --> E1[Business Logic]
    E1 -.-> D1
    end
    
    subgraph Proposed
    C2[Controller] --> E2[Service Layer]
    E2 --> F2[Repository Layer]
    F2 --> D2[Database]
    end
```

**Hoáº·c dÃ¹ng text-based description**:

### 8. **âœ… Äiá»ƒm TÃ­ch cá»±c**

Nhá»¯ng gÃ¬ Ä‘Ã£ lÃ m tá»‘t (cáº§n recognition):
- Cáº¥u trÃºc folder rÃµ rÃ ng, dá»… navigate
- TypeScript strict mode enabled
- Test coverage >70%
- Good separation of concerns
- Comprehensive error handling
- Well-documented APIs
- Etc.

### 9. **ğŸ“Š ÄÃ¡nh giÃ¡ Tá»•ng thá»ƒ**

**Level Ä‘Ã¡nh giÃ¡**:
- ğŸ”´ **Critical** - Nhiá»u váº¥n Ä‘á» nghiÃªm trá»ng, cáº§n refactor lá»›n trÆ°á»›c khi production
- ğŸŸ¡ **Needs Improvement** - CÃ³ váº¥n Ä‘á» quan trá»ng, cáº§n giáº£i quyáº¿t trong 1-2 sprints
- ğŸŸ¢ **Good** - Cáº¥u trÃºc tá»‘t, chá»‰ cáº§n cáº£i thiá»‡n nhá», cÃ³ thá»ƒ production
- âœ… **Excellent** - Follow best practices, maintainable, scalable, production-ready

**LÃ½ do chÃ­nh** (2-3 bullet points ngáº¯n gá»n)

**So sÃ¡nh vá»›i industry standard**:
- Startup MVP: [assessment]
- Scale-up product: [assessment]  
- Enterprise application: [assessment]

## Output Format

**Sá»­ dá»¥ng**:
- Markdown headings (##, ###) cho sections
- Numbered lists cho sequential steps
- Bullet points cho non-sequential items
- Checkboxes `[ ]` cho action items
- Inline code `` `backticks` `` cho paths, commands, variable names
- Code blocks ```language cho snippets
- Mermaid diagrams cho architecture visualization (khi giÃºp Ã­ch)
- ASCII tree cho folder structure proposals
- Collapsible sections náº¿u ná»™i dung quÃ¡ dÃ i

**Tone & Style**:
- XÃ¢y dá»±ng, khÃ´ng phÃ¡n xÃ©t
- Ngáº¯n gá»n, Ä‘i tháº³ng vÃ o váº¥n Ä‘á»
- Actionable (má»—i issue pháº£i cÃ³ gá»£i Ã½ fix cá»¥ thá»ƒ)
- Technical nhÆ°ng dá»… hiá»ƒu
- KhÃ´ng chÃ o há»i dÃ i dÃ²ng, khÃ´ng apologize khÃ´ng cáº§n thiáº¿t

**Link references**:
- LuÃ´n link Ä‘áº¿n file cá»¥ thá»ƒ khi cÃ³ thá»ƒ: `src/path/to/file.ts:line_number`
- Link Ä‘áº¿n documentation: [TypeScript Handbook](https://www.typescriptlang.org/docs/)
- Link Ä‘áº¿n best practices articles náº¿u relevant

**Báº¯t Ä‘áº§u phÃ¢n tÃ­ch ngay khi nháº­n Ä‘Æ°á»£c trigger command.**